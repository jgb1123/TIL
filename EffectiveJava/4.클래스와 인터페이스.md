# 클래스와 인터페이스
## item15. 클래스와 멤버의 접근 권한을 최소화하라
### 정보의 은닉, 캡슐화
* 어설프게 설계된 컴포넌트와 잘 설계된 컴포넌트의 가장 큰 차이는 클래스 내부 데이터와 내부 구현 정보를 외부 컴포넌트로부터 얼마나 잘 숨겼는지 이다.
* 잘 설계된 컴포넌트는 모든 내부 구현을 완벽히 숨겨 구현과 API를 깔끔히 분리한다.
* 오직 API를 통해서만 다른 컴포넌트와 소통하며 서로의 내부 동작 방식에는 전혀 개의치 않는다.
* 이러한 개념을 정보은닉, 캡슐화라고 하며 소프트웨어 설계의 근간이 되는 원리이다.

### 정보 은닉의 장점
* 시스템 개발 속도를 높인다.
  * 여러 컴포넌트를 병렬로 개발할 수 있다.
* 시스템 관리 비용을 낮춘다.
  * 각 컴포넌트를 더 빨리 파악하여 디버깅할 수 있고 다른 컴포넌트로 교체하는 부담이 적다
* 정보 은닉 자체가 성능을 높여주지는 않지만 성능 최적화에 도움을 준다.
  * 완성된 시스템을 프로파일링해 최적화할 컴포넌트를 정한다음 다른 컴포넌트에 영향을 주지 않고 해당 컴포넌트만 최적화할 수 있다.
* 소프트웨어 재사용성을 높인다.
  * 외부에 거의 의존하지 않고 독자적으로 동작할 수 있는 컴포넌트라면 그 컴포넌트와 함께 개발되지 않은 낯선 환경에서도 유용하게 쓰일 가능성이 크다.
* 큰 시스템을 제작하는 난이도를 낮춰준다.
  * 시스템 전체가 아직 완성되지 않은 상태에서도 개별 컴포넌트의 동작을 검증할 수 있다.

### 정보 은닉 원칙
* 모든 클래스와 멤버의 접근성을 가능한 한 좁혀야 한다.
  * 소프트웨어가 올바로 동작하는 한 항상 가장 낮은 접근 수준을 부여해야 한다.

#### 탑레벨 클래스와 인터페이스
* 탑레벨 클래스와 인터페이스에 부여할 수 있는 접근 수준은 default와 public 두가지이다.
* 패키지 외부에서 쓸 이유가 없다면 default로 선언해야 한다.
* 그러면 API가 아닌 내부 구현이 되어 언제든 수정 가능하다.
* 클라이언트에 아무런 피해 없이 다음 릴리스에서 수정, 교체, 제거할 수 있다.
* 반면에 public으로 선언하면 API가 되므로 하위호환을 위해 영원히 관리해줘야만 한다.
* 따라서 public일 필요가 없는 클래스의 접근 수준을 default로 좁혀야 한다.
* public 클래스는 그 패키지의 API인 반면 default는 내부 구현에 속하기 때문이다.

#### 멤버
* 클래스의 공개 API를 설계한 후, 그 외의 모든 멤버는 private으로 만들어야 한다.
* 오직 같은 패키지의 다른 클래스가 접근해야 하는 멤버에 안하여 default로 풀어줘야 한다.
* 권한을 풀어주는 일을 너무 자주하게 되면 시스템에서 컴포넌트를 더 분해해야 하는 것은 아닌지 고민해봐야 한다.
* private과 default 멤버는 모두 해당 클래스의 구현에 해당하므로 보통은 공개 API에 영향을 주지 않는다.
* 단 Serializable을 구현한 클래스에서는 그 필드들도 의도치 않게 공개 API가 될 순 있다.