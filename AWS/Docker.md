# Docker
## 컨테이너
* 실제로 물류쪽에서 컨테이너라는게 생긴 뒤 혁신이 일어났다. (실제 무역항)
  * 물자를 싣고 내릴 때에 선박이 입항해있는 시간을 획기적으로 단축시켜준다.
  * 물자를 싣고 내릴 때 필요한 인력을 대폭 감소시킨다.
* 소프트웨어 개발에서도 이러한 물류쪽에서의 컨테이너 기술을 소프트웨어 배포에 사용할 수 있는 방법을 생각해냈고, **리눅스 컨테이너**라는 것을 만들어 냈다.
* 그리고 2013년에 **Docker가 등장**했고, Docker Hub라는 소프트웨어 저장소와 함께 빠르게 성장했다. (리눅스 컨테이너는 애플리케이션을 쉽게 컨테이너화 할 수 있는 커뮤니티 같은 게 없었음)
* 소프트웨어 개발에서 이러한 컨테이너 기술로 인해 실행 환경에 구애받지 않고 애플리케이션을 실행할 수 있게 되었다. (어떠한 환경에 구애받지 않음)

## Docker의 장점 (컨테이너 방식의 장점)
### 1) 의존성 충돌 문제 해결
* 의존성 충돌 문제를 해결해 준다. (프로그램 A를 실행하기 위해 프로그램 B가 반드시 필요한 경우 의존 관계를 갖고 있다고 말함)
* 컨테이너 기술은 애플리케이션을 컨테이너 내에 구성하므로, 컨테이너에서 실행중인 애플리케이션은 어떠한 의존성도 공유하지 않는다.

#### 컨테이너의 격리
* 프로세스
  * 특정 컨테이너에서 작동하는 프로세스는 기본적으로 그 컨테이너 안에서만 액세스할 수 있다.
  * 컨테이너 안에서 실행되는 프로세스는 다른 컨테이너의 프로세스에게 영향을 줄 수 없다.

* 네트워크
  * 기본으로 컨테이너 하나에 하나의 IP주소가 할당되어 있다.

* 파일 시스템
  * 컨테이너 안에서 사용되는 파일 시스템은 구획화(각 다른 영역에서 작동) 되어있다.
  * 해당 컨테이너에서의 명령이나 파일등의 액세스를 제한할 수 있다.

### 2) 개발과 배포 환경 일치
* 도커를 이용하면, 애플리케이션 구성 자체가 컨테이너화 되면(보통 Docker Compose라는 툴 사용) YAML파일 하나와 명령어 하나로 모든 애플리케이션 실행 환경 구성이 완료된다.
* 따라서 OS에 상관없이 즉시 애플리케이션 실행 환경을 만들 수 있다.
* 개발을 컨테이너 위에서 진행할 경우, 모든 개발팀이 동일한 환경 하에 개발을 진행할 수 있다.
* AWS EC2상에 도커를 설치하거나, ECS(도커 컨테이너를 EC2서버에서 실행할 수 있게 하는 서비스)를 이용하여 보다 쉽게 애플리케이션을 배포할 수 있다.
* 이러한 기술로 인해, 애플리케이션이 본인 컴퓨터에서만 작동되는 일은 발생하지 않는다.

### 3) 수평 확장 용이
* 서비스 제공자들은 트래픽 분산을 위해 프록시 서버를 운영하며, 프록시 서버는 여러 대의 동일한 서버 중 한군데를 이용할 수 있도록 도와준다.(리버스 프록시의 한 종류인 로드 밸런서)
* 컨테이너 기술의 큰 장점은 실행 환경을 일치 시켜준다는 것인데,새로운 서버에 애플리케이션을 컨테이너로 실행하고 로드밸런서에 이 서버를 추가하기만 하면 된다. (서버 증설 용이)
* 이러한 기술을 응용하여, 새로운 버전의 애플리케이션을 여러 서버 중 몇 군대에만 운영하여 테스트 하는 방법도 가능해진다.

## Docker의 핵심 키워드
### 컨테이너
* 컨테이너는 애플리케이션이 의존성, 네트워크환경, 파일 시스템에 구애받지 않고 Docker라는 기술 위에 실행될 수 있도록 만든 애플리케이션 박스이다.
### 이미지
* 실행되는 모든 컨테이너는 이미지로부터 생성된다.
* 이미지는 애플리케이션 및 애플리케이션 구성을 함께 담아놓은 템플릿이며, 이를 이용해 즉시 컨테이너를 만들 수 있다.
* 이미지를 이용해 여러개의 컨테이너를 생성할 수 있고, 이를 통해 애플리케이션의 수평 확장이 가능하다.
* 이미지는 기본 이미지(base image)로 부터 변경사항을 추가/커밋해서 또 다른 이미지를 만들 수 있다.
  * 예시로, 스프링부트 기반의 애플리케이션을 이미지로 만들고 싶은 경우, 스프링부트 초기 세팅 이미지를 기본 이미지로 삼고, 본인이 만든 애플리케이션을 추가해 넣어서 이미지화 할 수 있다.
### 레지스트리
* 이미지는 레지스트리에 저장된다.
* 대표적인 이미지 레지스트리는 Docker Hub, Amazon ECR이 있다.
* 도커 CLI에서 이미지를 이용해 컨테이너를 생성할 때, 호스트 컴퓨터에 이미지가 존재하지 않으면 기본 레지스트리로부터 다운로드 받게 된다.


 
___
참고

codestates 교육