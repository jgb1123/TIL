# EC2
## AWS 사용 이유
* 외부에서 본인이 만든 서비스에 접근하려면 24시간 작동하는 서버가 필요한데, 아래와같은 3가지 방법이 있을 수 있다.
  * 개인 PC를 24시간 구동시킨다.
  * 호스팅 서비스(Cafe 24, 코리아호스팅 등)을 이용한다.
  * 클라우드 서비스(AWS, ZURE, GCP 등)을 이용한다.
* 일반적으로 비용은 호스팅 서비스나 개인 PC를 이용하는 것이 저렴하다.
* 하지만 특정 시간에만 트래픽이 몰린다면, 유동적으로 사양을 늘릴 수 있는 클라우드가 유리하다.
* 클라우드에서는 기본적으로 지원하는 기능(모니터링, 로그관리, 백업, 복구, 클러스터링 등)이 많아 개발에 좀 더 집중할 수 있게된다.
* 국내에서는 AWS 점유율이 압도적으로 높기 때문에, 사용자가 많아 국내 자료와 커뮤니티 또한 활성화되어 있다.

## 회원가입
* 회원가입에는 Master 혹은 Visa카드가 필요하다.
* AWS 공식 사이트에서 회원가입을 진행하면 된다.

## EC2 인스턴스 생성하기
* EC2는 AWS에서 제공하는 성능, 용량 등을 유동적으로 사용할 수 있는 서버로, AWS에서 리눅스 서버 혹은 윈도우 서버를 사용한다고 하면 이 EC2를 의미하는 것이다.
* 리전은 서울로 변경한다.

### AMI 선택
* AMI는 EC2 인스턴스를 시작하는데 필요한 정보를 이지미로 만들어 둔 것이다.
* 인스턴스라는 가상 머신에 운영체제 등을 설치할 수 있게 구워 넣은 이미지라고 생각하면 된다.
* 아직 국내 자료가 리눅스 1이 많기 때문에, 리눅스 1을 사용한다. (보통 센토스 6버전으로 진행되는 자료들은 아마존 리눅스 1에서 모두 사용 가능)
  * 아마존 리눅스 2는 센토스 7버전 자료들을 그대로 사용할 수 있다.
* 센토스 AMI대신 아마존 리눅스 AMI를 사용한 이유는 다음과 같다.
  * 아마존이 개발하고 있기 때문에 지원받기가 쉽다.
  * 레드햇 베이스이므로 레드햇 계열의 배포판을 많이 다뤄본 사람일수록 문제없이 사용할 수 있다.
  * AWS의 각종 서비스와의 상성이 좋다.
  * Amazon 독자적인 개발 리포지터리를 사용하고 있어 yum이 매우 빠르다.

### 인스턴스 유형 선택
* t2.micro는 프리티어이다.
  * t2는 요금 타입이며, micro는 사양을 의미한다.
  * t2 외에 t3도 있으며 보통 이것들을 T 시리즈라고 한다.
  * T 시리즈는 범용 시리즈로 불리기도 하며 다양한 사양을 사용할 수 있다.
* 다른 서비스와 달리 크레딧이란 일종의 CPU를 사용할 수 있는 포인트 개념이 있다.
* 인스턴스 크기에 따라 정해진 비율로 CPU 크레딧을 계속 받게 되며, 사용하지 않을 때는 크레딧을 축적하고, 사용할 때 이 크레딧을 사용한다.
* 정해진 사양보다 더 높은 트래픽이 오면 크레딧을 좀 더 적극적으로 사용하면서 트래픽을 처리하지만, 크레딧이 모두 사용되면 더이상 EC2를 사용할 수 없다.
* 따라서 트래픽이 높은 서비스들은 T 시리즈를 쓰지 않고 다른 시리즈를 사용하기도 하지만, 그 전까지는 활용도가 높기 때문에 시작하는 단계에서는 좋다.

### 세부 정보 구성
* 기업에서 사용할 경우 VPC, 서브넷 등을 세세하게 다뤄야 하지만, 혼자서 1대의 서버만 사용하면 별 다른 설정을 하지 않아도 된다.
* 대량의 서버를 사용하지 않는다면 굳이 별도로 구성할 필요가 없다.

### 스토리지
* 흔히 하드디스크라고 부르는 서버의 디스크를 의미하며, 서버의 용량을 얼마나 정할지 선택하는 단계다. 
* 프리티어는 30GB까지 지원한다.

### 태그
* 태그에는 웹 콘솔에서 표기될 태그인 Name 태그를 등록하면 된다.
* 태그는 해당 인스턴스를 표현하는 여러 이름으로 사용될 수 있으며, EC2의 이름을 붙인다고 생각하면 된다.

### 보안 그룹
* 보안 그룹은 방화벽을 의미한다.
* '서버로 80 포트 외에는 허용하지 않는다'는 역할을 하는 방화벽이 AWS에서는 보안 그룹으로 사용된다.
* 보안 그룹 이름엔 유의미한 이름으로 변경한다.