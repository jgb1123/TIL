# JWT
## 인증 방식 종류
* 서버가 클라이언트 인증을 확인하는 방식은 대표적으로 쿠키, 세션, 토큰 3가지 방식이 있다.
### Cookie
* 쿠키는 Key-Value 형식의 문자열이다.
* 클라이언트가 어떤 웹사이트를 방문할 경우 그 사이트가 사용하고 있는 서버를 통해 클라이언트의 브라우저에 저장되는 작은 기록전용 파일이다.
* 각 사용자마다의 브라우저에 정보를 저장하니 고유 정보 식별이 가능하다.
#### Cookie 인증 과정
1. 브라우저가 서버에 요청을 보낸다.
2. 서버는 클라이언트의 요청에 대한 응답을 작성할 때, 클라이언트 측에 저장하고 싶은 정보를 응답헤더의 Set-Cookie에 담는다.
3. 이후 해당 클라이언트는 요청을 보낼 때마다 저장된 쿠키를 요청 헤더에 Cookie에 담아 보낸다.
4. 서버는 쿠키에 담긴 정보를 바탕으로 해당 요청의 클라이언트가 누군지 식별한다.

#### Cookie 방식의 단점
* 가장 큰 단점으로는, 보안에 매우 취약하다.
  * 요청 시 쿠키의 값을 그대로 보내기 때문에 유출 및 조작당할 위험이 존재한다.
* 쿠키에는 용량제한이 있기 때문에 많은 정보를 담을 수 없다.
* 웹 브라우저마다 쿠키에 대한 지원 형태가 다르기 때문에, 브라우저간 공유가 불가능하다.
* 쿠키의 사이즈가 커질수록 네트워크에 부하가 심해진다.


### Session 인증
* 쿠키의 보안적인 이슈 때문에, 세션은 비밀번호 등 클라이언트의 민감한 인증 정보를 브라우저가 아닌 서버 측에 저장하고 관리한다.
* 서버의 메모리,  서버의 로컬 파일,  데이터베이스에 저장한다.
* 민감한 정보는 클라이언트에 보내지 않고 서버에서 관리하게 되는 것이다.

#### Session 인증 과정
1. 유저 웹사이트에서 로그인을 하면 세션이 서버 메모리 혹슨 데이터베이스 상에 저장된다. (Session Id를 기준으로 정보를 저장)
2. 서버에서 브라우저 쿠키에 Session Id를 저장한다.
3. 쿠키에 정보가 담겨있기 때문에 브라우저는 해당 사이트에 대한 모든 요청에 Session Id를 쿠키에 담아 전송한다.
4. 서버는 클라이언트가 보낸 Session Id와 서버 메모리로 관리하고 있는 Session Id를 비교하여 인증을 수행한다.

#### Session 방식의 단점
* 쿠키를 포함한 요청이 외부에 노출되더라도 세션 ID 자체는 유의미한 개인정보를 담고 있지 않지만, 해커가 세션 ID 자체를 탈취하여 클라이언트인척 위장할 수 있다.
* 서버에서 세션 저장소를 사용하므로 요청이 많아지면 서버에 부하가 심해진다.

### Token 인증
* 토큰 기반 인증 시스템은 클라이언트가 서버에 접속하면 서버에서 해당 클라이언트에게 인증되었다는 의미로 토큰을 부여한다.
* 이 토큰은 유일하며, 토큰을 발급받은 클라이언트는 또 다시 서버에 요청을 보낼 때 요청 헤더에 토큰을 심어서 보낸다.
* 서버에서는 클라이언트로부터 받은 토큰을 서버에서 제공한 토큰과의 일치 여부를 체크하여 인증 과정을 처리하게 된다.

















___
참고

https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-JWTjson-web-token-%EB%9E%80-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC#JWT_%EA%B5%AC%EC%A1%B0